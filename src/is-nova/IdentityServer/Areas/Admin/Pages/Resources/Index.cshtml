@page
@model IdentityServer.Areas.Admin.Pages.Resources.IndexModel
@{
    ViewData["Title"] = "Info";
    ViewData["ActivePage"] = "Index";
}

<div class="row">
    <div class="col-md-6">
        <h4>@ViewData["Title"]</h4>
        <p>
            From this page you can admin IdentityServer Resources.
            Create a new Resource or select an existing.
        </p>
        <h4>Identity Resources</h4>
        <p>
            Identity resources are data like user ID, name, or email address of a user. 
            An identity resource has a unique name, and you can assign arbitrary claim types to it.
            These claims will then be included in the identity token for the user. 
            The client will use the <i>scope</i> parameter to request access to an identity resource.
        </p>
        <h4>Api Resources</h4>
        <p>
            To allow clients to request access tokens for APIs, 
            API resources as to be defined.

            To get access tokens for APIs, you also need to register them as a scope.
        </p>
    </div>

    @if (Model.HasExports)
    {
        <div class="col-md-6">
            <h4>Export/Backup Databases</h4>
            <ul class="nav nav-pills nav-stacked">

                @if (Model.HasExportResourceDbContext)
                {
                    <li>
                        <a asp-page="ExportResourceDb">
                            <div>Export Resource Database</div>
                            <div style="color:#aaa;font-size:.85em">
                                to @Model.ExportResourceDbContextType
                            </div>
                            <div>
                                Click to flush target database resources and export...
                            </div>
                            @if (!String.IsNullOrEmpty(Model.ExportResourcesMessage))
                            {
                                <div class="alert alert-info alert-dismissible">
                                    @Model.ExportResourcesMessage
                                </div>
                            }
                        </a>
                    </li>
                }
            </ul>
        </div>
     }
</div>
